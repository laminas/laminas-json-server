<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Laminas\Json\Server">  
    <link rel="canonical" href="https://docs.laminas.dev/laminas-json-server/smd/">
    <link rel="shortcut icon" href="https://docs.laminas.dev/img/trademark-laminas-foundation-rgb.svg">

    <title>Service Mapping Description (SMD) - laminas-json-server - Laminas Docs</title>

    <link rel="stylesheet" href="https://docs.laminas.dev/css/styles.css">
    
</head>
<body id="page-top" class="components" data-spy="scroll" data-target=".toc" data-offset="20">

    
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        
        <a class="logo-link navbar-brand" href="https://getlaminas.org/" data-tooltip data-placement="bottom" title="Go to the Laminas homepage">
            <img src="https://docs.laminas.dev/img/laminas-foundation-white.svg" height="28" alt="Laminas">
        </a>
        <a class="navbar-title" href="https://docs.laminas.dev/" data-tooltip data-placement="bottom" title="Go to the Laminas Documentation">
            Documentation
        </a>

        
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

            
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <div class="dropdown sub-project-selector">
                        <a class="dropdown-toggle nav-link" data-toggle="dropdown" aria-expanded="false">
                            All Docs
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a href="https://docs.mezzio.dev/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-mezzio-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Mezzio</strong><br>
                                        PSR-15 Middleware in Minutes
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/components/" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-components-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>Components</strong><br>
                                        Components for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <a href="https://docs.laminas.dev/mvc" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-mvc-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>MVC</strong><br>
                                        MVC for Enterprise Applications
                                    </div>
                                </div>
                            </a>
                            <a href="https://api-tools.getlaminas.org/documentation" class="dropdown-item">
                                <div class="row align-items-center">
                                    <div class="col-md-4 col-sm-12">
                                        <img src="https://docs.laminas.dev/img/laminas-api-tools-rgb.svg">
                                    </div>
                                    <div class="col-md-8 col-sm-12">
                                        <strong>API Tools</strong><br>
                                        Build RESTful APIs in Minutes
                                    </div>
                                </div>
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/migration/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Migration to Laminas
                                    </div>
                                </div>
                            </a>
                            <a class="dropdown-item dropdown-item--secondardy" href="https://docs.laminas.dev/tutorials/">
                                <div class="row align-items-center">
                                    <div class="col-md-8 offset-md-4 col-sm-12">
                                        Tutorials
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="https://getlaminas.org/participate" class="nav-link">Community</a>
                </li>
            </ul>

            
            
                <div class="d-block d-sm-none">
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">laminas-json-server</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../intro/" class="subnavigation__link">Intro</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../usage/" class="subnavigation__link">Basic Usage</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../server/" class="subnavigation__link">Laminas\Json\Server\Server</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../request/" class="subnavigation__link">Laminas\Json\Server\Request</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../response/" class="subnavigation__link">Laminas\Json\Server\Response</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../error/" class="subnavigation__link">Laminas\Json\Server\Error</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Service Mapping Description (SMD)</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                </div>
            

            
            <div class="d-block d-sm-none">
                <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
            </div>
        </div>
    </div>
</nav>

    
    <header class="header">
    <div class="container">
        <div class="row">

            
            <div class="col-8">
                <h1 class="header__title">
                    Components

                    
                        <small class="header__subtitle">laminas-json-server</small>
                    
                </h1>
            </div>

            
            <div class="col-4 text-right">
                
                    

                    <a href="#" class="header__link header__link--search" data-toggle="modal" data-target="#mkdocs_search_modal" title="Open search">
                        <i class="fa fa-search"></i> Search
                    </a>
                    <a href="https://github.com/laminas/laminas-json-server/" class="header__link header__link--github" title="Go to repository of laminas-json-server">
                        <i class="fa fa-github"></i> GitHub
                    </a>
                
            </div>
        </div>
    </div>
</header>

    
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12 content" role="main">
                
                
                    
    

    
    

                

                
                    <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        
            <li class="breadcrumb-item"><a href="https://docs.laminas.dev/">Overview</a></li>
            <li class="breadcrumb-item"><a href="https://docs.laminas.dev/components/">Components</a></li>

            
                <li class="breadcrumb-item"><a href="..">laminas-json-server</a></li>

                
                    
                        
                        
                            <li class="breadcrumb-item">Reference</li>
                        
                    
                

                <li class="breadcrumb-item active" aria-current="page">Service Mapping Description (SMD)</li>
            
        
    </ol>
</nav>






    
    
        <h2 class="chapter__headline">Reference</h2>
    

    <h1 id="smd-service-mapping-description">SMD: Service Mapping Description</h1>
<p>SMD stands for Service Mapping Description, a JSON schema that defines how a
client can interact with a particular web service. At the time of this writing,
the <a href="http://www.jsonrpc.org/specification">specification</a> has not yet been
formally ratified, but it is in use already within Dojo Toolkit as well as
other JSON-RPC consumer clients.</p>
<p>At its most basic, a Service Mapping Description indicates the method of
transport (<code>POST</code>, <code>GET</code>, TCP/IP, etc), the request envelope type (usually
based on the protocol of the server), the target URL of the service provider,
and a map of services available. In the case of JSON-RPC, the service map is a
list of available methods, which each method documenting the available
parameters and their types, as well as the expected return value type.</p>
<p><code>Laminas\Json\Server\Smd</code> provides an object-oriented way to build service maps.
At its most basic, you pass it metadata describing the service using mutators,
and specify services (methods and functions).</p>
<p>The service descriptions themselves are typically instances of
<code>Laminas\Json\Server\Smd\Service</code>; you can also pass all information as an array
to the various service mutators in <code>Laminas\Json\Server\Smd</code>, and it will
instantiate a service for you. The service objects contain information such as
the name of the service (typically the function or method name), the parameters
(names, types, and position), and the return value type. Optionally, each
service can have its own target and envelope, though this functionality is
rarely used.</p>
<p><code>Laminas\Json\Server\Server</code> actually does all of this behind the scenes for you,
by using reflection on the attached classes and functions; you should create
your own service maps only if you need to provide custom functionality that
class and function introspection cannot offer.</p>
<p>Methods available in <code>Laminas\Json\Server\Smd</code> include:</p>
<ul>
<li><code>setOptions(array $options)</code>: Setup an SMD object from an array of options.
  All mutators (methods beginning with 'set') can be used as keys.</li>
<li><code>setTransport($transport)</code>: Set the transport used to access the service;
  only POST is currently supported.</li>
<li><code>getTransport()</code>: Get the current service transport.</li>
<li><code>setEnvelope($envelopeType)</code>: Set the request envelope that should be used to
  access the service.  Currently, supports the constants
  <code>Laminas\Json\Server\Smd::ENV_JSONRPC_1</code> and
  <code>Laminas\Json\Server\Smd::ENV_JSONRPC_2</code>.</li>
<li><code>getEnvelope()</code>: Get the current request envelope.</li>
<li><code>setContentType($type)</code>: Set the content type requests should use (by
  default, this is 'application/json').</li>
<li><code>getContentType()</code>: Get the current content type for requests to the service.</li>
<li><code>setTarget($target)</code>: Set the URL endpoint for the service.</li>
<li><code>getTarget()</code>: Get the URL endpoint for the service.</li>
<li><code>setId($id)</code>: Typically, this is the URL endpoint of the service (same as the
  target).</li>
<li><code>getId()</code>: Retrieve the service ID (typically the URL endpoint of the
  service).</li>
<li><code>setDescription($description)</code>: Set a service description (typically
  narrative information describing the purpose of the service).</li>
<li><code>getDescription()</code>: Get the service description.</li>
<li><code>setDojoCompatible($flag)</code>: Set a flag indicating whether or not the SMD is
  compatible with Dojo toolkit. When <code>TRUE</code>, the generated JSON SMD will be
  formatted to comply with the format that Dojo's JSON-RPC client expects.</li>
<li><code>isDojoCompatible()</code>: Returns the value of the Dojo compatibility flag
  (<code>FALSE</code>, by default).</li>
<li><code>addService($service)</code>: Add a service to the map. May be an array of
  information to pass to the constructor of <code>Laminas\Json\Server\Smd\Service</code>, or
  an instance of that class.</li>
<li><code>addServices(array $services)</code>: Add multiple services at once.</li>
<li><code>setServices(array $services)</code>: Add multiple services at once, overwriting
  any previously set services.</li>
<li><code>getService($name)</code>: Get a service by its name.</li>
<li><code>getServices()</code>: Get all attached services.</li>
<li><code>removeService($name)</code>: Remove a service from the map.</li>
<li><code>toArray()</code>: Cast the service map to an array.</li>
<li><code>toDojoArray()</code>: Cast the service map to an array compatible with Dojo
  Toolkit.</li>
<li><code>toJson()</code>: Cast the service map to a JSON representation.</li>
</ul>
<p><code>Laminas\Json\Server\Smd\Service</code> has the following methods:</p>
<ul>
<li><code>setOptions(array $options)</code>: Set object state from an array. Any mutator
  (methods beginning with 'set') may be used as a key and set via this method.</li>
<li><code>setName($name)</code>: Set the service name (typically, the function or method
  name).</li>
<li><code>getName()</code>: Retrieve the service name.</li>
<li><code>setTransport($transport)</code>: Set the service transport (currently, only
  transports supported by <code>Laminas\Json\Server\Smd</code> are allowed).</li>
<li><code>getTransport()</code>: Retrieve the current transport.</li>
<li><code>setTarget($target)</code>: Set the URL endpoint of the service (typically, this
  will be the same as the overall SMD to which the service is attached).</li>
<li><code>getTarget()</code>: Get the URL endpoint of the service.</li>
<li><code>setEnvelope($envelopeType)</code>: Set the service envelope (currently, only
  envelopes supported by <code>Laminas\Json\Server\Smd</code> are allowed).</li>
<li><code>getEnvelope()</code>: Retrieve the service envelope type.
  <code>addParam($type, array $options = array(), $order = null)</code>: Add a parameter
  to the service. By default, only the parameter type is necessary. However,
  you may also specify the order, as well as options such as:<ul>
<li><strong>name</strong>: the parameter name</li>
<li><strong>optional</strong>: whether or not the parameter is optional</li>
<li><strong>default</strong>: a default value for the parameter</li>
<li><strong>description</strong>: text describing the parameter</li>
</ul>
</li>
<li><code>addParams(array $params)</code>: Add several parameters at once; each param should
  be an assoc array containing minimally the key 'type' describing the
  parameter type, and optionally the key 'order'; any other keys will be passed
  as <code>$options</code> to <code>addOption()</code>.</li>
<li><code>setParams(array $params)</code>: Set many parameters at once, overwriting any
  existing parameters.</li>
<li><code>getParams()</code>: Retrieve all currently set parameters.</li>
<li><code>setReturn($type)</code>: Set the return value type of the service.</li>
<li><code>getReturn()</code>: Get the return value type of the service.</li>
<li><code>toArray()</code>: Cast the service to an array.</li>
<li><code>toJson()</code>: Cast the service to a JSON representation.</li>
</ul>




    <nav>
    <ul class="page-nav hidden-print">

        
        <li class="page-nav__item">
            
                <a rel="prev" class="page-nav__link page-nav__link--prev" href="../error/">
                    <i class="fa fa-chevron-left"></i> Previous
                </a>
            
        </li>

        
        <li class="page-nav__item">
            
        </li>
    </ul>
</nav>



                
            </div>
            <div class="col-md-3 col-sm-12 sidebar">
                <div class="donation-banner">
    <a href="https://getlaminas.org/support/">
        <h2>Donate</h2>
        <p>Support Laminas Developers Directly</p>
        <img src="https://funding.communitybridge.org/assets/cb-f-horizontal-white.svg">
    </a>
</div>

                
                    <div class="component-selector">
    
    <h5 class="component-selector__subtitle">Find documentation…</h5>
    <select class="form-control component-selector__control">
        <option value="/">Overview</option>
        <optgroup label="Components"></optgroup>
    </select>
</div>
                    
    <div class="subnavigation hidden-print">
        <h4 class="subnavigation__title">
            <a href="..">laminas-json-server</a>
        </h4>

        <h5 class="subnavigation__subtitle">Table of Contents</h5>

        <ul class="subnavigation__list">
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../intro/" class="subnavigation__link">Intro</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item ">
                                <a href="../usage/" class="subnavigation__link">Basic Usage</a>
                            </li>
                        
                    
                
            

                
                

                    
                    
                        
                            <li class="subnavigation__list-item">
                                <span class="subnavigation__headline">Reference</span>
                                <ul class="subnavigation__list">
                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../server/" class="subnavigation__link">Laminas\Json\Server\Server</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../request/" class="subnavigation__link">Laminas\Json\Server\Request</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../response/" class="subnavigation__link">Laminas\Json\Server\Response</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item ">
        <a href="../error/" class="subnavigation__link">Laminas\Json\Server\Error</a>
    </li>

                                    
                                        
    <li class="subnavigation__list-item subnavigation__list-item--active">
        <a href="./" class="subnavigation__link">Service Mapping Description (SMD)</a>
    </li>

                                    
                                </ul>
                            </li>
                        
                    
                
            
        </ul>
    </div>

                    
                
            </div>
        </div>
    </div>

    
    <footer class="footer">
    <div class="container">

        
        <div class="row">
            <div class="col-md-12 text-center">
                <a class="footer__button" href="#page-top"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <h5>Laminas</h5>
                <ul>
                    <li>Laminas Project <a href="https://getlaminas.org/">The new foundation for the community-supported, open source continuation of Zend Framework</a></li>
                    <li>Laminas Components and MVC <a href="https://docs.laminas.dev/">Components and MVC for enterprise applications</a></li>
                    <li>Mezzio <a href="https://docs.mezzio.dev/">PSR-15 middleware in minutes</a></li>
                    <li>Laminas API Tools <a href="https://api-tools.getlaminas.org/">Build RESTful APIs in minutes</a></li>
                </ul>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="row">

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Support</h4>
                        <ul class="support__list">
                            <li class="support__list-item">
                                <a href="https://discourse.laminas.dev" class="support__link" title="Forum"><i class="fa fa-comments"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://laminas.dev/chat" class="support__link" title="Chat"><i class="fa fa-slack"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://github.com/laminas" class="support__link" title="Github"><i class="fa fa-github"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://twitter.com/getlaminas" class="support__link" title="Twitter"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/blog/rss.xml" class="support__link" title="Blog feed"><i class="fa fa-rss"></i></a>
                            </li>
                            <li class="support__list-item">
                                <a href="https://getlaminas.org/security/feed" class="support__link" title="Security feed"><i class="fa fa-rss-square"></i></a>
                            </li>
                        </ul>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">License</h4>
                        <p>
                            Code licensed under <a
                                href="https://github.com/laminas/laminas-json-server/blob/master/LICENSE.md">BSD 3-Clause</a>.
                        </p>
                    </div>

                    
                    <div class="col-md-4">
                        <h4 class="footer__headline">Copyright</h4>
                        <p>
                            <!--Built with love by the Laminas team with the help of our
                            <a href="https://github.com/laminas/laminas-json-server/graphs/contributors">contributors</a>.<br>-->
                            &copy; 2022 <a href="https://getlaminas.org/">Laminas Project</a> a Series of LF Projects, LLC.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script>
        let base_url = '..',
            project  = "components",
            siteName = 'laminas-json-server';
    </script>
    <script src="https://docs.laminas.dev/js/scripts.js"></script>
    
        <script src="../search/main.js"></script>
    

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="modal-body">
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search in laminas-json-server" id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
        </div>
    </div>
</div>
</body>


</html>
